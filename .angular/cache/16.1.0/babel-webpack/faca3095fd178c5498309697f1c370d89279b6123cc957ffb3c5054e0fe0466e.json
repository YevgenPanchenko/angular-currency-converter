{"ast":null,"code":"import _asyncToGenerator from \"D:/Web Development/projects/ANGULAR/converter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class CurrencyConverterComponent {\n  constructor() {\n    this.amount = 0;\n    this.fromCurrency = '';\n    this.toCurrency = '';\n    this.convertedAmount = 0;\n    this.rates = {};\n  }\n  ngOnInit() {\n    this.getCurrencies();\n  }\n  getCurrencies() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const response = yield fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json');\n      const data = yield response.json();\n      data.forEach(currency => {\n        _this.rates[currency.cc] = currency.rate;\n      });\n      _this.rates.UAH = 1.0;\n    })();\n  }\n  convertValue() {\n    const inputValue = parseFloat(this.amount.toString());\n    let convertedValue;\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue = inputValue * this.rates[this.fromCurrency] / this.rates[this.toCurrency];\n    }\n    this.convertedAmount = parseFloat(convertedValue.toFixed(2));\n  }\n  convertBack() {\n    const inputValue = parseFloat(this.convertedAmount.toString());\n    let convertedValue;\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue = inputValue * this.rates[this.toCurrency] / this.rates[this.fromCurrency];\n    }\n    this.amount = parseFloat(convertedValue.toFixed(2));\n  }\n}\nCurrencyConverterComponent.ɵfac = function CurrencyConverterComponent_Factory(t) {\n  return new (t || CurrencyConverterComponent)();\n};\nCurrencyConverterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CurrencyConverterComponent,\n  selectors: [[\"app-currency-converter\"]],\n  decls: 4,\n  vars: 0,\n  consts: [[1, \"container\", \"pt-5\", \"pb-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-6\"]],\n  template: function CurrencyConverterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"app-currency-converter\");\n      i0.ɵɵelementEnd()()();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["CurrencyConverterComponent","constructor","amount","fromCurrency","toCurrency","convertedAmount","rates","ngOnInit","getCurrencies","_this","_asyncToGenerator","response","fetch","data","json","forEach","currency","cc","rate","UAH","convertValue","inputValue","parseFloat","toString","convertedValue","toFixed","convertBack","selectors","decls","vars","consts","template","CurrencyConverterComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd"],"sources":["D:\\Web Development\\projects\\ANGULAR\\converter\\src\\app\\app.component.ts","D:\\Web Development\\projects\\ANGULAR\\converter\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-currency-converter',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class CurrencyConverterComponent implements OnInit {\n  amount: number = 0;\n  fromCurrency: string = '';\n  toCurrency: string = '';\n  convertedAmount: number = 0;\n  rates: any = {};\n\n  ngOnInit(): void {\n    this.getCurrencies();\n  }\n\n  async getCurrencies(): Promise<void> {\n    const response = await fetch(\n      'https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json'\n    );\n    const data = await response.json();\n\n    data.forEach((currency: any) => {\n      this.rates[currency.cc] = currency.rate;\n    });\n\n    this.rates.UAH = 1.0;\n  }\n\n  convertValue(): void {\n    const inputValue = parseFloat(this.amount.toString());\n\n    let convertedValue;\n\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue =\n        (inputValue * this.rates[this.fromCurrency]) /\n        this.rates[this.toCurrency];\n    }\n\n    this.convertedAmount = parseFloat(convertedValue.toFixed(2));\n  }\n\n  convertBack(): void {\n    const inputValue = parseFloat(this.convertedAmount.toString());\n\n    let convertedValue;\n\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue =\n        (inputValue * this.rates[this.toCurrency]) /\n        this.rates[this.fromCurrency];\n    }\n\n    this.amount = parseFloat(convertedValue.toFixed(2));\n  }\n}\n","<div class=\"container pt-5 pb-5\">\n  <div class=\"row justify-content-center\">\n    <div class=\"col-6\">\n      <app-currency-converter></app-currency-converter>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}