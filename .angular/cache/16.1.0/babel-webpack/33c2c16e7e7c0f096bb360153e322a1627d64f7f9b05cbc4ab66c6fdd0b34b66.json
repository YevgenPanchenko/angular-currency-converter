{"ast":null,"code":"import _asyncToGenerator from \"D:/Web Development/projects/ANGULAR/converter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CurrencyConverterComponent = class CurrencyConverterComponent {\n  constructor() {\n    this.amount = 0;\n    this.fromCurrency = '';\n    this.toCurrency = '';\n    this.convertedAmount = 0;\n    this.rates = {};\n  }\n  ngOnInit() {\n    this.getCurrencies();\n  }\n  getCurrencies() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const response = yield fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json');\n      const data = yield response.json();\n      data.forEach(currency => {\n        _this.rates[currency.cc] = currency.rate;\n      });\n      _this.rates.UAH = 1.0;\n    })();\n  }\n  convertValue() {\n    const inputValue = parseFloat(this.amount.toString());\n    let convertedValue;\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue = inputValue * this.rates[this.fromCurrency] / this.rates[this.toCurrency];\n    }\n    this.convertedAmount = parseFloat(convertedValue.toFixed(2));\n  }\n  convertBack() {\n    const inputValue = parseFloat(this.convertedAmount.toString());\n    let convertedValue;\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue = inputValue * this.rates[this.toCurrency] / this.rates[this.fromCurrency];\n    }\n    this.amount = parseFloat(convertedValue.toFixed(2));\n  }\n};\nCurrencyConverterComponent = __decorate([Component({\n  selector: 'app-currency-converter',\n  styleUrls: ['./currency-converter.component.css']\n})], CurrencyConverterComponent);","map":{"version":3,"names":["Component","CurrencyConverterComponent","constructor","amount","fromCurrency","toCurrency","convertedAmount","rates","ngOnInit","getCurrencies","_this","_asyncToGenerator","response","fetch","data","json","forEach","currency","cc","rate","UAH","convertValue","inputValue","parseFloat","toString","convertedValue","toFixed","convertBack","__decorate","selector","styleUrls"],"sources":["D:\\Web Development\\projects\\ANGULAR\\converter\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-currency-converter',\n  styleUrls: ['./currency-converter.component.css'],\n})\nexport class CurrencyConverterComponent implements OnInit {\n  amount: number = 0;\n  fromCurrency: string = '';\n  toCurrency: string = '';\n  convertedAmount: number = 0;\n  rates: any = {};\n\n  ngOnInit(): void {\n    this.getCurrencies();\n  }\n\n  async getCurrencies(): Promise<void> {\n    const response = await fetch(\n      'https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json'\n    );\n    const data = await response.json();\n\n    data.forEach((currency: any) => {\n      this.rates[currency.cc] = currency.rate;\n    });\n\n    this.rates.UAH = 1.0;\n  }\n\n  convertValue(): void {\n    const inputValue = parseFloat(this.amount.toString());\n\n    let convertedValue;\n\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue =\n        (inputValue * this.rates[this.fromCurrency]) /\n        this.rates[this.toCurrency];\n    }\n\n    this.convertedAmount = parseFloat(convertedValue.toFixed(2));\n  }\n\n  convertBack(): void {\n    const inputValue = parseFloat(this.convertedAmount.toString());\n\n    let convertedValue;\n\n    if (this.fromCurrency === this.toCurrency) {\n      convertedValue = inputValue;\n    } else if (this.fromCurrency === 'UAH') {\n      convertedValue = inputValue / this.rates[this.toCurrency];\n    } else if (this.toCurrency === 'UAH') {\n      convertedValue = inputValue * this.rates[this.fromCurrency];\n    } else {\n      convertedValue =\n        (inputValue * this.rates[this.toCurrency]) /\n        this.rates[this.fromCurrency];\n    }\n\n    this.amount = parseFloat(convertedValue.toFixed(2));\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAM1C,WAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAAhCC,YAAA;IACL,KAAAC,MAAM,GAAW,CAAC;IAClB,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,UAAU,GAAW,EAAE;IACvB,KAAAC,eAAe,GAAW,CAAC;IAC3B,KAAAC,KAAK,GAAQ,EAAE;EA0DjB;EAxDEC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEMA,aAAaA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACjB,MAAMC,QAAQ,SAASC,KAAK,CAC1B,mEAAmE,CACpE;MACD,MAAMC,IAAI,SAASF,QAAQ,CAACG,IAAI,EAAE;MAElCD,IAAI,CAACE,OAAO,CAAEC,QAAa,IAAI;QAC7BP,KAAI,CAACH,KAAK,CAACU,QAAQ,CAACC,EAAE,CAAC,GAAGD,QAAQ,CAACE,IAAI;MACzC,CAAC,CAAC;MAEFT,KAAI,CAACH,KAAK,CAACa,GAAG,GAAG,GAAG;IAAC;EACvB;EAEAC,YAAYA,CAAA;IACV,MAAMC,UAAU,GAAGC,UAAU,CAAC,IAAI,CAACpB,MAAM,CAACqB,QAAQ,EAAE,CAAC;IAErD,IAAIC,cAAc;IAElB,IAAI,IAAI,CAACrB,YAAY,KAAK,IAAI,CAACC,UAAU,EAAE;MACzCoB,cAAc,GAAGH,UAAU;KAC5B,MAAM,IAAI,IAAI,CAAClB,YAAY,KAAK,KAAK,EAAE;MACtCqB,cAAc,GAAGH,UAAU,GAAG,IAAI,CAACf,KAAK,CAAC,IAAI,CAACF,UAAU,CAAC;KAC1D,MAAM,IAAI,IAAI,CAACA,UAAU,KAAK,KAAK,EAAE;MACpCoB,cAAc,GAAGH,UAAU,GAAG,IAAI,CAACf,KAAK,CAAC,IAAI,CAACH,YAAY,CAAC;KAC5D,MAAM;MACLqB,cAAc,GACXH,UAAU,GAAG,IAAI,CAACf,KAAK,CAAC,IAAI,CAACH,YAAY,CAAC,GAC3C,IAAI,CAACG,KAAK,CAAC,IAAI,CAACF,UAAU,CAAC;;IAG/B,IAAI,CAACC,eAAe,GAAGiB,UAAU,CAACE,cAAc,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;EAC9D;EAEAC,WAAWA,CAAA;IACT,MAAML,UAAU,GAAGC,UAAU,CAAC,IAAI,CAACjB,eAAe,CAACkB,QAAQ,EAAE,CAAC;IAE9D,IAAIC,cAAc;IAElB,IAAI,IAAI,CAACrB,YAAY,KAAK,IAAI,CAACC,UAAU,EAAE;MACzCoB,cAAc,GAAGH,UAAU;KAC5B,MAAM,IAAI,IAAI,CAAClB,YAAY,KAAK,KAAK,EAAE;MACtCqB,cAAc,GAAGH,UAAU,GAAG,IAAI,CAACf,KAAK,CAAC,IAAI,CAACF,UAAU,CAAC;KAC1D,MAAM,IAAI,IAAI,CAACA,UAAU,KAAK,KAAK,EAAE;MACpCoB,cAAc,GAAGH,UAAU,GAAG,IAAI,CAACf,KAAK,CAAC,IAAI,CAACH,YAAY,CAAC;KAC5D,MAAM;MACLqB,cAAc,GACXH,UAAU,GAAG,IAAI,CAACf,KAAK,CAAC,IAAI,CAACF,UAAU,CAAC,GACzC,IAAI,CAACE,KAAK,CAAC,IAAI,CAACH,YAAY,CAAC;;IAGjC,IAAI,CAACD,MAAM,GAAGoB,UAAU,CAACE,cAAc,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;EACrD;CACD;AA/DYzB,0BAA0B,GAAA2B,UAAA,EAJtC5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,wBAAwB;EAClCC,SAAS,EAAE,CAAC,oCAAoC;CACjD,CAAC,C,EACW7B,0BAA0B,CA+DtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}